/* eslint-disable */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("babel-runtime/core-js/object/assign"),require("querystring"),require("axios"),require("babel-runtime/core-js/promise"),require("jsonp"));else if("function"==typeof define&&define.amd)define(["babel-runtime/core-js/object/assign","querystring","axios","babel-runtime/core-js/promise","jsonp"],t);else{var n="object"==typeof exports?t(require("babel-runtime/core-js/object/assign"),require("querystring"),require("axios"),require("babel-runtime/core-js/promise"),require("jsonp")):t(e["babel-runtime/core-js/object/assign"],e.querystring,e.axios,e["babel-runtime/core-js/promise"],e.jsonp);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(e,t,n,r,i){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="../",n(n.s=129)}({0:function(e,t){e.exports=function(e,t,n,r,i,o){var a,s=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(a=e,s=e.default);var c,d="function"==typeof s?s.options:s;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),n&&(d.functional=!0),i&&(d._scopeId=i),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=c):r&&(c=r),c){var l=d.functional,f=l?d.render:d.beforeCreate;l?(d._injectStyles=c,d.render=function(e,t){return c.call(t),f(e,t)}):d.beforeCreate=f?[].concat(f,c):[c]}return{esModule:a,exports:s,options:d}}},129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(92));r.default.install=function(e){e.component(r.default.name,r.default)},t.default=r.default},161:function(e,t){},191:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["van-watchlater",e.skin,e.added?"added":""],on:{click:e.handler,mouseover:e.over,mouseout:e.out}},[n("transition",{attrs:{name:"van-watchlater-move"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.text,expression:"text"}],ref:"tips",staticClass:"wl-tips",domProps:{textContent:e._s(e.text)}})])],1)};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},2:function(e,t){e.exports=require("babel-runtime/core-js/object/assign")},24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={get:function(e){var t=""+document.cookie,n=t.indexOf(e+"=");if(-1==n||""==e)return"";var r=t.indexOf(";",n);return-1==r&&(r=t.length),unescape(t.substring(n+e.length+1,r))},set:function(e,t,n){n=void 0!==n?n:365;var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),document.cookie=e+"="+escape(t)+";expires="+r.toGMTString()+"; path=/; domain=.bilibili.com"},delete:function(e){this.set(e,"",-1)}}},4:function(e,t){e.exports=require("querystring")},58:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(6)),i=o(n(24));function o(e){return e&&e.__esModule?e:{default:e}}var a=["稍后再看","已加稍后再看","移除","已从稍后再看列表中移除","添加失败，请重试","移除失败，请重试"];t.default={name:"VanWatchLater",props:{aid:{type:Number,default:null},isLogin:{type:Boolean,default:!1},skin:{type:String,default:""}},data:function(){return{added:!1,text:""}},updated:function(){var e=this;this.$nextTick(function(){var t=e.$refs.tips.offsetWidth;e.$refs.tips.style.left="-"+(t/2-11)+"px"})},watch:{aid:function(){this.added=!1,this.text=""}},methods:{over:function(){this.text=this.added?a[2]:a[0]},out:function(){this.text=""},handler:function(){this.isLogin||window.UserStatus&&window.UserStatus.userInfo&&window.UserStatus.userInfo.isLogin?this.added?this.del():this.add():window.UserStatus?window.UserStatus.quickLogin():window.location.href="https://passport.bilibili.com/login"},callback:function(){this.$emit("callback",this.text)},add:function(){var e=this;(0,r.default)({method:"post",url:"//api.bilibili.com/x/v2/history/toview/add",data:{aid:this.aid,csrf:i.default.get("bili_jct")},withCredentials:!0}).then(function(t){0===t.data.code?(e.added=!0,e.text=a[1]):e.text=t.data.message||a[4],e.callback()}).catch(function(){e.text=a[4],e.callback()})},del:function(){var e=this;(0,r.default)({method:"post",url:"//api.bilibili.com/x/v2/history/toview/del",data:{aid:this.aid,csrf:i.default.get("bili_jct")},withCredentials:!0}).then(function(t){0===t.data.code?(e.added=!1,e.text=a[3]):e.text=t.data.message||a[5],e.callback()}).catch(function(){e.text=a[5],e.callback()})}}}},6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(2)),i=u(n(8)),o=u(n(7)),a=u(n(9)),s=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return e.url.indexOf("http")<0&&(e.url=window.location.protocol+e.url),e.jsonp?function(e){return new i.default(function(t,n){e.query=e.params||e.query,e.query=(0,r.default)({jsonp:"jsonp"},e.query),e.url=e.query?e.url+"?"+s.default.stringify(e.query):e.url,(0,a.default)(e.url,e,function(r,i){if(r)return e.fallback?c(e.fallback):n(r);var o={code:i.code,data:i};return t(o)})})}(e):function(e){e.params=e.params||e.query,"post"==e.method.toLocaleLowerCase()&&(e.headers&&e.headers["Content-Type"]||(e.data=e.data?s.default.stringify(e.data):e.data));return(0,o.default)(e).catch(function(t){if(e.fallback)return c(e.fallback);throw t})}(e)}t.default=c},7:function(e,t){e.exports=require("axios")},8:function(e,t){e.exports=require("babel-runtime/core-js/promise")},9:function(e,t){e.exports=require("jsonp")},92:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58),i=n.n(r);for(var o in r)["default","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(191),s=!1;var u=function(e){s||n(161)},c=n(0)(i.a,a.a,!1,u,null,null);c.options.__file="packages/watchlater/src/watchlater.vue",t.default=c.exports}})});