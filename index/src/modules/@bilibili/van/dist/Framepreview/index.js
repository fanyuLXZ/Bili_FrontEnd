/* eslint-disable */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("babel-runtime/core-js/object/assign"),require("querystring"),require("axios"),require("babel-runtime/core-js/promise"),require("jsonp"));else if("function"==typeof define&&define.amd)define(["babel-runtime/core-js/object/assign","querystring","axios","babel-runtime/core-js/promise","jsonp"],t);else{var r="object"==typeof exports?t(require("babel-runtime/core-js/object/assign"),require("querystring"),require("axios"),require("babel-runtime/core-js/promise"),require("jsonp")):t(e["babel-runtime/core-js/object/assign"],e.querystring,e.axios,e["babel-runtime/core-js/promise"],e.jsonp);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(e,t,r,n,i){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../",r(r.s=107)}({107:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(64));t.default=n.default},14:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.throttle=function(e,t,r){var n=null,i=void 0;return function(){var o=this,u=arguments,a=+new Date;clearTimeout(n),i||(i=a),a-i>=r?(e.apply(o,u),i=a):n=setTimeout(function(){e.apply(o,u)},t)}},t.debounce=function(e,t){var r=void 0;return t=t||200,function(){var n=this,i=arguments;r&&clearTimeout(r),r=setTimeout(function(){r=null,e.apply(n,i)},t)}},t.checkInView=function(e,t){if(e){var r=e.getBoundingClientRect(),n=t||0;return r.top<window.innerHeight+n&&r.bottom>=0}},t.trimHttp=function(e){return e?e.replace(/^http:/,""):""};var n=t.webp=function(){try{return 0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(e){return!1}}();t.formatImg=function(e,t,r,i){if(!e)return e;var o=e.match(/(.*\.(jpg|jpeg|gif|png|bmp))(\?.*)?/),u=-1!=e.indexOf("/bfs/");if(!o||"gif"===o[2]||"bmp"===o[2]||!u)return e;var a=(i||85)+"q",c=t&&r?"@"+t+"w_"+r+"h_"+a:"@"+a,s=o[3]?o[3]:"";return n?o[1]+c+".webp"+s:o[1]+c+"."+o[2]+s},t.isBeta=function(e){var t=!1,r=cookie.get("DedeUserID").slice(-1);return r&&$.isArray(e)&&(t=$.inArray(+r,e)>-1),t}},2:function(e,t){e.exports=require("babel-runtime/core-js/object/assign")},4:function(e,t){e.exports=require("querystring")},6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(2)),i=c(r(8)),o=c(r(7)),u=c(r(9)),a=c(r(4));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return e.url.indexOf("http")<0&&(e.url=window.location.protocol+e.url),e.jsonp?function(e){return new i.default(function(t,r){e.query=e.params||e.query,e.query=(0,n.default)({jsonp:"jsonp"},e.query),e.url=e.query?e.url+"?"+a.default.stringify(e.query):e.url,(0,u.default)(e.url,e,function(n,i){if(n)return e.fallback?s(e.fallback):r(n);var o={code:i.code,data:i};return t(o)})})}(e):function(e){e.params=e.params||e.query,"post"==e.method.toLocaleLowerCase()&&(e.headers&&e.headers["Content-Type"]||(e.data=e.data?a.default.stringify(e.data):e.data));return(0,o.default)(e).catch(function(t){if(e.fallback)return s(e.fallback);throw t})}(e)}t.default=s},64:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(6)),i=r(14);t.default={install:function(e,t){var r=t&&t.api||"//api.bilibili.com/x/player/videoshot";e.directive("van-framepreview",{bind:function(e,t){var o=t.value;if(o&&"number"==typeof o){var u=!1,a=!1,c=!1,s=null,l=null,f=null,d={};e.addEventListener("mouseenter",function(){c=!0,(0,i.debounce)(function(){c&&(a||(a=!0,s=document.createElement("div"),l=document.createElement("div"),f=document.createElement("span"),s.className="van-framepreview",l.className="van-fpbar-box",s.style.backgroundPosition="0 10px",l.appendChild(f),s.appendChild(l),e.appendChild(s),function(e){(0,n.default)({method:"get",url:r,params:{aid:e,index:1}}).then(function(e){e&&e.data&&0===e.data.code&&(u=!0,d=e.data.data,s.style.backgroundImage="url("+(0,i.trimHttp)((0,i.formatImg)(d.image[0]))+")",p(0))})}(o)),s&&(s.style.opacity=1))},350)()}),e.addEventListener("mouseleave",function(){c=!1,s&&(s.style.opacity=0)}),e.addEventListener("mousemove",function(e){u&&c&&p(e.layerX)})}function p(t){var r=d.index.length,n=e.offsetWidth,i=d.img_y_size/d.img_x_size*n,o=Math.floor(t/n*100),u=n*d.img_x_len,a=Math.floor(t/n*r),c=-a%d.img_x_len*n,l=-Math.floor(a/d.img_x_len)*i+10;s.style.backgroundPosition=c+"px "+l+"px",s.style.backgroundSize=u+"px",f.style.width=o+"%"}}})}}},7:function(e,t){e.exports=require("axios")},8:function(e,t){e.exports=require("babel-runtime/core-js/promise")},9:function(e,t){e.exports=require("jsonp")}})});